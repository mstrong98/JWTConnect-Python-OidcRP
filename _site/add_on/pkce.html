<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Proof Key for Code Exchange &#8212; oidcrp 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=27fed22d" />
    <script src="../_static/documentation_options.js?v=01f34227"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pushed Authorization" href="pushed_authorization.html" />
    <link rel="prev" title="Demonstration of Proof-of-possession" href="dpop.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="proof-key-for-code-exchange">
<span id="pkce"></span><h1>Proof Key for Code Exchange<a class="headerlink" href="#proof-key-for-code-exchange" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>OAuth 2.0 public clients utilizing the Authorization Code Grant are
susceptible to the authorization code interception attack.  <a class="reference external" href="https://datatracker.ietf.org/doc/html/rfc7636">RFC7636</a>
describes the attack as well as a technique to mitigate
against the threat through the use of Proof Key for Code Exchange
(PKCE, pronounced “pixy”).</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h2>
<p>You can set <em>code_challenge_length</em> and <em>code_challenge_method</em>.
Both have defaults:</p>
<ul class="simple">
<li><p>code_challenge_length: 64 and</p></li>
<li><p>code_challenge_method: S256</p></li>
</ul>
<p><em>S256</em> is mandatory to implement so there should be good reasons for
not choosing it. To other defined method is <em>plain</em>. <em>plain</em> should only
be used when you rely on the operating system and transport
security not to disclose the request to an attacker.</p>
<p>The security model relies on the fact that the code verifier is not
learned or guessed by the attacker.  It is vitally important to
adhere to this principle.  As such, the code verifier has to be
created in such a manner that it is cryptographically random and has
high entropy that it is not practical for the attacker to guess.</p>
<p>The client SHOULD create a “code_verifier” with a minimum of 256 bits
of entropy.  This can be done by having a suitable random number
generator create a 32-octet sequence.</p>
<p>code_challenge_length is the length of that sequence.</p>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;add_ons&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;pkce&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;function&quot;</span><span class="p">:</span> <span class="s2">&quot;oidcrp.oauth2.add_on.pkce.add_support&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;code_challenge_length&quot;</span><span class="p">:</span> <span class="mi">64</span><span class="p">,</span>
            <span class="s2">&quot;code_challenge_method&quot;</span><span class="p">:</span> <span class="s2">&quot;S256&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">OIDCRP add on documentation</a><ul>
      <li>Previous: <a href="dpop.html" title="previous chapter">Demonstration of Proof-of-possession</a></li>
      <li>Next: <a href="pushed_authorization.html" title="next chapter">Pushed Authorization</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2018, Roland Hedberg.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/add_on/pkce.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>